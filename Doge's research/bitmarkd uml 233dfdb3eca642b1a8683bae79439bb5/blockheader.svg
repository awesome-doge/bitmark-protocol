<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="404px" preserveAspectRatio="none" style="width:468px;height:404px;" version="1.1" viewBox="0 0 468 404" width="468px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="352" x="60" y="16.708">https://github.com/bitmark-inc/bitmarkd</text><!--MD5=[618726c6dcc428e7c434e3b23445b8f5]
cluster blockheader--><polygon fill="#FFFFFF" points="14,144.9531,118,144.9531,125,167.25,446,167.25,446,304.9531,14,304.9531,14,144.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="125" y1="167.25" y2="167.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="18" y="159.9482">blockheader</text><!--MD5=[f9f5e47277aa1cf362235c24d633d021]
cluster sync--><polygon fill="#FFFFFF" points="280,36.9531,323,36.9531,330,59.25,384,59.25,384,119.9531,280,119.9531,280,36.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="280" x2="330" y1="59.25" y2="59.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="284" y="51.9482">sync</text><!--MD5=[193e1bb296b1fce7f82d526867e775c2]
class blockheader.blockData--><rect fill="#FEFECE" height="124.8281" id="blockheader.blockData" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="213" x="225.5" y="171.9531"/><ellipse cx="296.25" cy="187.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M295.7344,188.5156 Q293.875,187.8125 293.2188,187.0469 Q292.5781,186.2656 292.5781,184.9531 Q292.5781,183.2656 293.6563,182.2969 Q294.7344,181.3281 296.6094,181.3281 Q297.4688,181.3281 298.3125,181.5313 Q299.1719,181.7188 300.0156,182.1094 L300.0156,184.5 Q299.2344,183.9375 298.4063,183.6563 Q297.5938,183.3594 296.7969,183.3594 Q295.9219,183.3594 295.4375,183.7188 Q294.9688,184.0781 294.9688,184.7344 Q294.9688,185.25 295.3125,185.5938 Q295.6563,185.9219 296.75,186.3281 L297.8125,186.7344 Q299.2969,187.2813 300,188.1875 Q300.7188,189.0938 300.7188,190.4688 Q300.7188,192.3438 299.6094,193.2656 Q298.5,194.1875 296.25,194.1875 Q295.3281,194.1875 294.4063,193.9688 Q293.4844,193.75 292.625,193.3281 L292.625,190.7969 Q293.5938,191.4844 294.5156,191.8281 Q295.4375,192.1719 296.3281,192.1719 Q297.2344,192.1719 297.7344,191.7656 Q298.2344,191.3438 298.2344,190.6094 Q298.2344,190.0469 297.8906,189.6406 Q297.5625,189.2188 296.9375,188.9688 L295.7344,188.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="316.75" y="192.1074">blockData</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="437.5" y1="203.9531" y2="203.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="233.5" y="211.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="245.5" y="218.1636">log *logger.L</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="233.5" y="224.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="245.5" y="230.9683">height uint64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="233.5" y="237.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="245.5" y="243.7729">previousBlock blockdigest.Digest</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="233.5" y="250.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="245.5" y="256.5776">previousVersion uint16</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="233.5" y="263.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="245.5" y="269.3823">previousTimestamp uint64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="233.5" y="275.9766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="245.5" y="282.187">initialised bool</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="226.5" x2="437.5" y1="288.7813" y2="288.7813"/><!--MD5=[17b9bc235503bafb63e97bb274c13781]
class blockheader.cachedBlockDigest--><rect fill="#FEFECE" height="73.6094" id="blockheader.cachedBlockDigest" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="21.5" y="197.4531"/><ellipse cx="44.6" cy="213.4531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M44.0844,214.0156 Q42.225,213.3125 41.5688,212.5469 Q40.9281,211.7656 40.9281,210.4531 Q40.9281,208.7656 42.0063,207.7969 Q43.0844,206.8281 44.9594,206.8281 Q45.8188,206.8281 46.6625,207.0313 Q47.5219,207.2188 48.3656,207.6094 L48.3656,210 Q47.5844,209.4375 46.7563,209.1563 Q45.9438,208.8594 45.1469,208.8594 Q44.2719,208.8594 43.7875,209.2188 Q43.3188,209.5781 43.3188,210.2344 Q43.3188,210.75 43.6625,211.0938 Q44.0063,211.4219 45.1,211.8281 L46.1625,212.2344 Q47.6469,212.7813 48.35,213.6875 Q49.0688,214.5938 49.0688,215.9688 Q49.0688,217.8438 47.9594,218.7656 Q46.85,219.6875 44.6,219.6875 Q43.6781,219.6875 42.7563,219.4688 Q41.8344,219.25 40.975,218.8281 L40.975,216.2969 Q41.9438,216.9844 42.8656,217.3281 Q43.7875,217.6719 44.6781,217.6719 Q45.5844,217.6719 46.0844,217.2656 Q46.5844,216.8438 46.5844,216.1094 Q46.5844,215.5469 46.2406,215.1406 Q45.9125,214.7188 45.2875,214.4688 L44.0844,214.0156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="60.4" y="217.6074">cachedBlockDigest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="189.5" y1="229.4531" y2="229.4531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="29.5" y="237.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="41.5" y="243.6636">blockNumber uint64</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="29.5" y="250.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="41.5" y="256.4683">digest blockdigest.Digest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="189.5" y1="263.0625" y2="263.0625"/><!--MD5=[34382681a0b56c09507f378284b1a66b]
class sync.RWMutex--><rect fill="#FEFECE" height="48" id="sync.RWMutex" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="288" y="63.9531"/><ellipse cx="303" cy="79.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M305.9688,85.5938 Q305.3906,85.8906 304.75,86.0313 Q304.1094,86.1875 303.4063,86.1875 Q300.9063,86.1875 299.5781,84.5469 Q298.2656,82.8906 298.2656,79.7656 Q298.2656,76.6406 299.5781,74.9844 Q300.9063,73.3281 303.4063,73.3281 Q304.1094,73.3281 304.75,73.4844 Q305.4063,73.6406 305.9688,73.9375 L305.9688,76.6563 Q305.3438,76.0781 304.75,75.8125 Q304.1563,75.5313 303.5313,75.5313 Q302.1875,75.5313 301.5,76.6094 Q300.8125,77.6719 300.8125,79.7656 Q300.8125,81.8594 301.5,82.9375 Q302.1875,84 303.5313,84 Q304.1563,84 304.75,83.7344 Q305.3438,83.4531 305.9688,82.875 L305.9688,85.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="317" y="84.1074">RWMutex</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="289" x2="375" y1="95.9531" y2="95.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="289" x2="375" y1="103.9531" y2="103.9531"/><!--MD5=[5a2fcba53deb0173f594d31da0e5b43a]
reverse link sync.RWMutex to blockheader.blockData--><path d="M332,125.3418 C332,139.4343 332,155.8776 332,171.6598 " fill="none" id="sync.RWMutex&lt;-blockheader.blockData" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="332,112.1446,328,118.1446,332,124.1446,336,118.1446,332,112.1446" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="278.2109" y="161.0551">extends</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="158" x="157" y="332.2354">Generated via www.dumels.com</text><image height="60" width="60" x="206" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAACW0lEQVR4Xu2aO1LDMBRFH3/YAR0LoYWKkm9BwV5YDXRQBKhImIFhExlaCgpq/rpRHuM8W4lsyUIWujMHHDt++DiyLJkQ5eTk5OQ4Z04x3xLRBbLXipeWiC4Q7iu+FV8eQT0QXVj4TbGiWPXAGul6UQu/i/UuWaAsHDaQqoK39SkRYchckJaRnI23Jyd8SbrXvFUMCpyOtycp/FF4nXyTLgpX5V8LY1kODZvQCWFc50PFkyd4tBU0dYTxHhsgARm53kTQ2Agj3AxnsUi61vl4WW6vImhshW2DeqjF9/DokoUd00j4uCV2qBxbYex7YsknTQrP2vd3YiwnzC6g3gOVz7qNMPfSdY4JnRb2433ldj6m0W0JP3AAB57YI13vntyE8cmhlqxfxSZ2HGerYvsh6Xq/whiF4FbgKxgluQr7Hlpm4baEJZgPJymMuvgj3GlgmV/jtymdF64iyU+4T+XmXMSUzgoPaLqYKckJrys25MpCggjzwGPfAzzwqBLG6x7pE2wKC6PGLpUHEU2ZEAZyKOYC6pmEr8iul27jmEbCRy2xTeXYCCPYV9YzgZbwSOVJgomgsRW2DfodCNeaHoaMb2HUQ+eWhWOJrTAeyC1ZsEy6SUf9EG+WMPfScjhqgntziNsQNHWEITGk8gP1pvCtKWjqCOPaxLL8t0kT+Pl19MK+gmuXm3/Q/FthXE93pJ+KVPFKCQn3SE8epoETkoQwB+LTwKeflPC0QBjNOgs7pDPCGDrKrxE2AV89/JP7sE1YGAcnJ/EuoF60wjeK55aIMpCWw0Nf5OTk5HQnP5VHM9pzOexnAAAAAElFTkSuQmCC" y="334.5938"/><!--MD5=[27301e1dfd6d023390c513254ed566db]
@startuml
skinparamlocked shadowing false
skinparamlocked roundCorner 10
title https://github.com/bitmark-inc/bitmarkd
namespace blockheader {
    class blockData << (S,Aquamarine) >> {
        - log *logger.L
        - height uint64
        - previousBlock blockdigest.Digest
        - previousVersion uint16
        - previousTimestamp uint64
        - initialised bool

    }
    class cachedBlockDigest << (S,Aquamarine) >> {
        - blockNumber uint64
        - digest blockdigest.Digest

    }
}
"sync.RWMutex" *- - "extends""blockheader.blockData"




footer  Generated via www.dumels.com\n<img:support_files/svg_placeholders/logo.png{scale=.3}>
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1deb10u1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>