# Wallet direction


## signal 連線

- 目前不需要短信驗證
- signal  初始化連線 目標 ip 是否有攻擊的可能性（機率較低）
- signal 初始化連線的過程中 是否會連線失敗
    - 如果連線失敗 將導致 無法付款
    - 如果無法付款是否 有官方運營的翻牆服務 或是 自建的翻牆服務
        - 官方提供的翻牆服務

        ![Wallet%20direction%20c08ab2a237bd4681bb68c6073794b953/IMG_DAA941EBFA84-1.jpeg](Wallet%20direction%20c08ab2a237bd4681bb68c6073794b953/IMG_DAA941EBFA84-1.jpeg)

        ![Wallet%20direction%20c08ab2a237bd4681bb68c6073794b953/IMG_2D3EC5D78548-1.jpeg](Wallet%20direction%20c08ab2a237bd4681bb68c6073794b953/IMG_2D3EC5D78548-1.jpeg)

- 是否有設備 公鑰 管理功能，又或是了解一下 裝置有誰

    ![Wallet%20direction%20c08ab2a237bd4681bb68c6073794b953/IMG_ACEBF7E4B3B1-1.jpeg](Wallet%20direction%20c08ab2a237bd4681bb68c6073794b953/IMG_ACEBF7E4B3B1-1.jpeg)

## schnorr 修正多簽部分

疑問 如何初始化 多千地址

- 目前使用的 是 PSBT + p2wsh
    1. 手機客戶端 簽名一次
    2. 丟給bitmark server 簽名一次
    3. bitmark 廣播交易

p2wsh優點

- 擁有 segwit
    - 比較便宜
    - 預防交易展性攻擊

缺點

- 如果不花錢不會報漏隱私
- 花錢會暴漏2-0f-3的交易格式
    - 可以讓別人明確知道 2-of-3 交易格式
    - 也可以進一步推測 沒用到的那一把鑰匙就是**還原錢包**
    - 如果簽名公鑰引用 非隨機 也會出現 讓攻擊者可以知道哪一個是 手機客戶端的公鑰 哪一個是 bitmark server上面的 公鑰

### 如果採用 schnorr簽名

- 優點
    - 不需要p2wsh 腳本 ，手續費將會更低
    - 不需要p2wsh 腳本 ，花錢的時候不會曝光 2-0f-3的交易格式
    - 不需要p2wsh 腳本 ，交易看起來跟普通交易一樣

實施辦法

1. 手機客戶端 簽名一次
2. 丟給bitmark server 簽名一次
3. 合併簽名 變成 聚合簽名交易
4. bitmark 廣播交易

## 洋蔥網路延遲過高

- 洋蔥 與 signal 面向的問題不同
    - 洋蔥至在模糊化 本地的IP以及 訪問到目的地的路徑。若採用洋蔥地址更是最好的模糊。使用洋蔥網路也不需要 https 憑證更新
    - Signal  志在建立 高度安全 加密的聊天通道 、且存在 聊天內容同步、公鑰家秘密、多人聊天通道同步功能

閃電網路出現高延遲就會出現 重複付款問題，也有可能因為交易失敗被判斷成惡意節點

多重簽名生成也會希望是低延遲的。若在高延遲的情況下就有機會造成握手失敗，握手失敗的過程就會是黑客攻擊的特徵點。

節點的運作如果是高延遲則有很高的機率 會被降低節點健康度 判斷

### 洋蔥網路 黑名單 ip

洋蔥網路的中繼節點有六千多個，六千多個ip皆為公開ip，洋蔥網路通常為各個國家 或是各個機構的黑名單。若全部採用洋蔥網路則有很高的機會導致用戶無法正常使用的問題。

## RGB

- 以目前來看 有開發進度 ，但要實施在比特幣主網上有許多BIP要更動
- 結論：短時間內不建議實現

功能面

- 實現各個代幣的Layer 2抽象
- 完成Layer 2 的抽象 就可以 創建 Layer 3 的 脫鏈虛擬幾
- 完成 L2 L3 可以實現 跨鏈機制

## RBF 功能

- 結論：目前現階段 沒有啟動 RBF功能  可以考慮起用

考慮問題

- 安全性問題：是否會造成霜花攻擊（目前看起來不太可能
- 判定問題：廣義的雙花攻擊，只要是創造出不同的Tx id  就會被判斷成 霜花攻擊 （應避免

## Green address 功能

- 建議：以第三方擔保的方式做到 預防雙重支付問題

2-of-2 or 2-of-3

已經實現在 liquid 和 bitcoin 

在未來會出現 schnorr 的版本 可以降低交易手續費、同時提升匿名性、安全性

## omni 代幣支援

將來會出現 閃電網路版本的 omni usdt  是否該支援，該計畫攘在進行中

## 隱私交易

payjoin

coinjoin

schnorr 簽名實現 可以降低交易手續費、同時提升匿名性、安全性

## 遠端主機的狀態瀏覽器

## 添加op_return 附註功能

# 錢包疑問

生成過程

- 三把鑰匙如何生成的 獨自在三台主幾？
    - 目前看起來像是 三把鑰匙 都是 device 生成
    - 
- hd 地址的協商 是 全部不油 device 提交給 雲端嗎？
- recovery  的那一把私鑰 如何備份 在哪裡打碎成三份？（手機嗎？
    - 然後再把這三份給別人嗎？怎麼給 有加密嗎 ？會不會有信息安全風險
- 那麼還原的部分 該怎麼還原
    - 想盡辦法生成 找回其他的碎片 還原出鑰匙
    - 那麼接下來是該作廢原本的錢包
        - 那麼有錢包作廢  流程 或是 前包資產重新轉移到新錢包的流程

產品優點

- 對於用戶的疑問，該錢包的定位為啥？有冷錢包、熱錢包、硬體錢包、軟體錢包
    - 冷熱的界定是網路，對於攻擊者而言 從原本需要攻擊的一台電腦 變成兩個目標 而且這兩個目標還都沒有加密。 只有系統上的防禦。
    - 顯然這是軟體錢包，在產品面上 沒有硬體錢包的優勢 ，除非引用 蘋果內建的加密晶片沙盒技術
- 搞清楚產品定位 才可以知道該放多少錢在裡面
- 為什麼三把鑰匙 (device(備份？), bitmark(備份), SSS)
    - 隨便掉一把 都沒差
    - 三個還原流程的故事
    - 三把鑰匙psbt 的過程 tor 很重要，不然很容易被人家鎖定主機。
        - 藏匿ip 藏匿isp 路徑 可以有效保護主機
        - 以tor 的方式 加入比特幣網路 不需要公開ip 僅需 hidden address
        - 但 如果使用 hidden address 就對 public 比特幣主網沒有直接貢獻 畢竟這是小型群眾
            - 但是依舊有加入 hidden address 分享比特幣節點的方法 這是bitcoin core 主要在推行的方案
- bitmark 錢包太燙的問題
    - auth key 可以解決登入該主機的問題
    - 但這方法真的無懈可擊嗎
- SSS為什麼優秀 (icloud, bitmark, 朋友)
    - 傳遞碎片的安全性問題
    - icloud,bitmark, 朋友
- Tor 真的安全嗎 把亮點說出來
    - 被封鎖 偵測 流量
    - 被封鎖 ip
- Signal 真的安全嗎 把亮點說出來
    - 被封鎖 偵測 流量
    - 被封鎖 ip
    - 是否需要代理proxy
- API 伺服器 是沒有加密的下一步規劃
- 該方案在 bitmark server 遇到不穩定的情況下會失效

產品迭代(聚合簽名優點)

- green
- coinjoin
- payjoin
- ln
- L2
- L3

授權鏈？在哪裡