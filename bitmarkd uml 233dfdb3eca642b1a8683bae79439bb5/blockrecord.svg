<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="576px" preserveAspectRatio="none" style="width:1556px;height:576px;" version="1.1" viewBox="0 0 1556 576" width="1556px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="352" x="604" y="16.708">https://github.com/bitmark-inc/bitmarkd</text><!--MD5=[a68c768ee9402902e54af82093ebcf93]
cluster blockrecord--><polygon fill="#FFFFFF" points="101,144.9531,202,144.9531,209,167.25,1204,167.25,1204,476.9531,101,476.9531,101,144.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="101" x2="209" y1="167.25" y2="167.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="105" y="159.9482">blockrecord</text><!--MD5=[8e21001717f33bd4f2ac4d89829f0ff9]
cluster blockdigest--><polygon fill="#FFFFFF" points="1212,380.9531,1309,380.9531,1316,403.25,1319,403.25,1319,463.9531,1212,463.9531,1212,380.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1212" x2="1316" y1="403.25" y2="403.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="1216" y="395.9482">blockdigest</text><!--MD5=[7be0765a0d4b6f5d119b5c3cd38aec47]
cluster difficulty--><polygon fill="#FFFFFF" points="1327,380.9531,1401,380.9531,1408,403.25,1427,403.25,1427,463.9531,1327,463.9531,1327,380.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1327" x2="1408" y1="403.25" y2="403.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="1331" y="395.9482">difficulty</text><!--MD5=[d9e017fef5063731a65650a4d9ad4fb7]
cluster merkle--><polygon fill="#FFFFFF" points="1446,380.9531,1506,380.9531,1513,403.25,1534,403.25,1534,463.9531,1446,463.9531,1446,380.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1446" x2="1513" y1="403.25" y2="403.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="1450" y="395.9482">merkle</text><!--MD5=[857233cdc7018b1e8695fe78ce49561f]
cluster __builtin__--><polygon fill="#FFFFFF" points="14,36.9531,68,36.9531,75,59.25,207,59.25,207,119.9531,14,119.9531,14,36.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="75" y1="59.25" y2="59.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="48" x="18" y="51.9482">builtin</text><!--MD5=[6e0bdef6723e2f811a12e052f8df51f8]
class blockrecord.Header--><rect fill="#FEFECE" height="163.2422" id="blockrecord.Header" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="213" x="983.5" y="171.9531"/><ellipse cx="1062.75" cy="187.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1062.2344,188.5156 Q1060.375,187.8125 1059.7188,187.0469 Q1059.0781,186.2656 1059.0781,184.9531 Q1059.0781,183.2656 1060.1563,182.2969 Q1061.2344,181.3281 1063.1094,181.3281 Q1063.9688,181.3281 1064.8125,181.5313 Q1065.6719,181.7188 1066.5156,182.1094 L1066.5156,184.5 Q1065.7344,183.9375 1064.9063,183.6563 Q1064.0938,183.3594 1063.2969,183.3594 Q1062.4219,183.3594 1061.9375,183.7188 Q1061.4688,184.0781 1061.4688,184.7344 Q1061.4688,185.25 1061.8125,185.5938 Q1062.1563,185.9219 1063.25,186.3281 L1064.3125,186.7344 Q1065.7969,187.2813 1066.5,188.1875 Q1067.2188,189.0938 1067.2188,190.4688 Q1067.2188,192.3438 1066.1094,193.2656 Q1065,194.1875 1062.75,194.1875 Q1061.8281,194.1875 1060.9063,193.9688 Q1059.9844,193.75 1059.125,193.3281 L1059.125,190.7969 Q1060.0938,191.4844 1061.0156,191.8281 Q1061.9375,192.1719 1062.8281,192.1719 Q1063.7344,192.1719 1064.2344,191.7656 Q1064.7344,191.3438 1064.7344,190.6094 Q1064.7344,190.0469 1064.3906,189.6406 Q1064.0625,189.2188 1063.4375,188.9688 L1062.2344,188.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="46" x="1083.25" y="192.1074">Header</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="984.5" x2="1195.5" y1="203.9531" y2="203.9531"/><ellipse cx="994.5" cy="214.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="1003.5" y="218.1636">Version uint16</text><ellipse cx="994.5" cy="227.7578" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1003.5" y="230.9683">TransactionCount uint16</text><ellipse cx="994.5" cy="240.5625" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="1003.5" y="243.7729">Number uint64</text><ellipse cx="994.5" cy="253.3672" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="1003.5" y="256.5776">PreviousBlock blockdigest.Digest</text><ellipse cx="994.5" cy="266.1719" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="1003.5" y="269.3823">MerkleRoot merkle.Digest</text><ellipse cx="994.5" cy="278.9766" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="1003.5" y="282.187">Timestamp uint64</text><ellipse cx="994.5" cy="291.7813" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="1003.5" y="294.9917">Difficulty *difficulty.Difficulty</text><ellipse cx="994.5" cy="304.5859" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1003.5" y="307.7964">Nonce NonceType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="984.5" x2="1195.5" y1="314.3906" y2="314.3906"/><ellipse cx="994.5" cy="325.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="1003.5" y="328.6011">Pack() PackedHeader</text><!--MD5=[735e427108591e5878ed90329cbe55f1]
class blockrecord.NonceType--><rect fill="#FEFECE" height="73.6094" id="blockrecord.NonceType" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="919" y="394.9531"/><ellipse cx="978.25" cy="410.9531" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M979.0938,417.7031 L976.6406,417.7031 L976.6406,407.4531 L973.5,407.4531 L973.5,405.3125 L982.2344,405.3125 L982.2344,407.4531 L979.0938,407.4531 L979.0938,417.7031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="998.75" y="415.1074">NonceType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="920" x2="1114" y1="426.9531" y2="426.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="920" x2="1114" y1="434.9531" y2="434.9531"/><ellipse cx="930" cy="445.9531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="939" y="449.1636">MarshalText() ([]byte, error)</text><ellipse cx="930" cy="458.7578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="939" y="461.9683">UnmarshalText(b []byte) error</text><!--MD5=[e18c2521096ef4a5683d9699b6e18778]
class blockrecord.PackedHeader--><rect fill="#FEFECE" height="73.6094" id="blockrecord.PackedHeader" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="771" y="216.4531"/><ellipse cx="810.3" cy="232.4531" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M811.1438,239.2031 L808.6906,239.2031 L808.6906,228.9531 L805.55,228.9531 L805.55,226.8125 L814.2844,226.8125 L814.2844,228.9531 L811.1438,228.9531 L811.1438,239.2031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="829.7" y="236.6074">PackedHeader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="772" x2="948" y1="248.4531" y2="248.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="772" x2="948" y1="256.4531" y2="256.4531"/><ellipse cx="782" cy="267.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="791" y="270.6636">Unpack() (*Header, error)</text><ellipse cx="782" cy="280.2578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="791" y="283.4683">Digest() blockdigest.Digest</text><!--MD5=[f323d39d8b1c3c63d831c1d9f9ac2612]
class blockrecord.Record--><rect fill="#FEFECE" height="60.8047" id="blockrecord.Record" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="481" x="254.5" y="222.9531"/><ellipse cx="468.75" cy="238.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M464.6719,234.7188 L464.6719,232.5625 L472.0625,232.5625 L472.0625,234.7188 L469.5938,234.7188 L469.5938,242.7969 L472.0625,242.7969 L472.0625,244.9531 L464.6719,244.9531 L464.6719,242.7969 L467.1406,242.7969 L467.1406,234.7188 L464.6719,234.7188 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44" x="489.25" y="243.1074">Record</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="255.5" x2="734.5" y1="254.9531" y2="254.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="255.5" x2="734.5" y1="262.9531" y2="262.9531"/><ellipse cx="265.5" cy="273.9531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="274.5" y="277.1636">ExtractHeader( []byte,  uint64,  bool) (*Header, blockdigest.Digest, []byte, error)</text><!--MD5=[d8377118a96c92f744dd2bdb0a30c905]
class blockrecord.PackedBlock--><rect fill="#FEFECE" height="48" id="blockrecord.PackedBlock" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="108.5" y="229.4531"/><ellipse cx="123.5" cy="245.4531" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M124.3438,252.2031 L121.8906,252.2031 L121.8906,241.9531 L118.75,241.9531 L118.75,239.8125 L127.4844,239.8125 L127.4844,241.9531 L124.3438,241.9531 L124.3438,252.2031 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="137.5" y="249.6074">PackedBlock</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="109.5" x2="218.5" y1="261.4531" y2="261.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="109.5" x2="218.5" y1="269.4531" y2="269.4531"/><!--MD5=[761f8b084a3f2df753a7cffd930b95f1]
class blockrecord.record--><rect fill="#FEFECE" height="73.6094" id="blockrecord.record" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="637" x="176.5" y="394.9531"/><ellipse cx="470.25" cy="410.9531" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M469.7344,411.5156 Q467.875,410.8125 467.2188,410.0469 Q466.5781,409.2656 466.5781,407.9531 Q466.5781,406.2656 467.6563,405.2969 Q468.7344,404.3281 470.6094,404.3281 Q471.4688,404.3281 472.3125,404.5313 Q473.1719,404.7188 474.0156,405.1094 L474.0156,407.5 Q473.2344,406.9375 472.4063,406.6563 Q471.5938,406.3594 470.7969,406.3594 Q469.9219,406.3594 469.4375,406.7188 Q468.9688,407.0781 468.9688,407.7344 Q468.9688,408.25 469.3125,408.5938 Q469.6563,408.9219 470.75,409.3281 L471.8125,409.7344 Q473.2969,410.2813 474,411.1875 Q474.7188,412.0938 474.7188,413.4688 Q474.7188,415.3438 473.6094,416.2656 Q472.5,417.1875 470.25,417.1875 Q469.3281,417.1875 468.4063,416.9688 Q467.4844,416.75 466.625,416.3281 L466.625,413.7969 Q467.5938,414.4844 468.5156,414.8281 Q469.4375,415.1719 470.3281,415.1719 Q471.2344,415.1719 471.7344,414.7656 Q472.2344,414.3438 472.2344,413.6094 Q472.2344,413.0469 471.8906,412.6406 Q471.5625,412.2188 470.9375,411.9688 L469.7344,411.5156 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="490.75" y="415.1074">record</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="177.5" x2="812.5" y1="426.9531" y2="426.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="184.5" y="434.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="196.5" y="441.1636">poolBockHeaderHash storage.Handle</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="177.5" x2="812.5" y1="447.7578" y2="447.7578"/><ellipse cx="187.5" cy="458.7578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="611" x="196.5" y="461.9683">ExtractHeader(block []byte, checkHeight uint64, skipDigest bool) (*Header, blockdigest.Digest, []byte, error)</text><!--MD5=[f6a60fc22453e7c36e369bd6eee6ea5f]
class blockdigest.Digest--><rect fill="#FEFECE" height="48" id="blockdigest.Digest" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="1220" y="407.9531"/><ellipse cx="1235" cy="423.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1237.9688,429.5938 Q1237.3906,429.8906 1236.75,430.0313 Q1236.1094,430.1875 1235.4063,430.1875 Q1232.9063,430.1875 1231.5781,428.5469 Q1230.2656,426.8906 1230.2656,423.7656 Q1230.2656,420.6406 1231.5781,418.9844 Q1232.9063,417.3281 1235.4063,417.3281 Q1236.1094,417.3281 1236.75,417.4844 Q1237.4063,417.6406 1237.9688,417.9375 L1237.9688,420.6563 Q1237.3438,420.0781 1236.75,419.8125 Q1236.1563,419.5313 1235.5313,419.5313 Q1234.1875,419.5313 1233.5,420.6094 Q1232.8125,421.6719 1232.8125,423.7656 Q1232.8125,425.8594 1233.5,426.9375 Q1234.1875,428 1235.5313,428 Q1236.1563,428 1236.75,427.7344 Q1237.3438,427.4531 1237.9688,426.875 L1237.9688,429.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="1249" y="428.1074">Digest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1221" x2="1291" y1="439.9531" y2="439.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1221" x2="1291" y1="447.9531" y2="447.9531"/><!--MD5=[1f69285830c0d990bb2e62881102646b]
class difficulty.Difficulty--><rect fill="#FEFECE" height="48" id="difficulty.Difficulty" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="1335" y="407.9531"/><ellipse cx="1350" cy="423.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1352.9688,429.5938 Q1352.3906,429.8906 1351.75,430.0313 Q1351.1094,430.1875 1350.4063,430.1875 Q1347.9063,430.1875 1346.5781,428.5469 Q1345.2656,426.8906 1345.2656,423.7656 Q1345.2656,420.6406 1346.5781,418.9844 Q1347.9063,417.3281 1350.4063,417.3281 Q1351.1094,417.3281 1351.75,417.4844 Q1352.4063,417.6406 1352.9688,417.9375 L1352.9688,420.6563 Q1352.3438,420.0781 1351.75,419.8125 Q1351.1563,419.5313 1350.5313,419.5313 Q1349.1875,419.5313 1348.5,420.6094 Q1347.8125,421.6719 1347.8125,423.7656 Q1347.8125,425.8594 1348.5,426.9375 Q1349.1875,428 1350.5313,428 Q1351.1563,428 1351.75,427.7344 Q1352.3438,427.4531 1352.9688,426.875 L1352.9688,429.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="1364" y="428.1074">Difficulty</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1336" x2="1418" y1="439.9531" y2="439.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1336" x2="1418" y1="447.9531" y2="447.9531"/><!--MD5=[b460131779c25197b958588ecdf39285]
class merkle.Digest--><rect fill="#FEFECE" height="48" id="merkle.Digest" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="1454" y="407.9531"/><ellipse cx="1469" cy="423.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1471.9688,429.5938 Q1471.3906,429.8906 1470.75,430.0313 Q1470.1094,430.1875 1469.4063,430.1875 Q1466.9063,430.1875 1465.5781,428.5469 Q1464.2656,426.8906 1464.2656,423.7656 Q1464.2656,420.6406 1465.5781,418.9844 Q1466.9063,417.3281 1469.4063,417.3281 Q1470.1094,417.3281 1470.75,417.4844 Q1471.4063,417.6406 1471.9688,417.9375 L1471.9688,420.6563 Q1471.3438,420.0781 1470.75,419.8125 Q1470.1563,419.5313 1469.5313,419.5313 Q1468.1875,419.5313 1467.5,420.6094 Q1466.8125,421.6719 1466.8125,423.7656 Q1466.8125,425.8594 1467.5,426.9375 Q1468.1875,428 1469.5313,428 Q1470.1563,428 1470.75,427.7344 Q1471.3438,427.4531 1471.9688,426.875 L1471.9688,429.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="1483" y="428.1074">Digest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1455" x2="1525" y1="439.9531" y2="439.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1455" x2="1525" y1="447.9531" y2="447.9531"/><!--MD5=[757dd8444d5998ccfbc65cf86e12d9de]
class __builtin__.[]byte--><rect fill="#FEFECE" height="48" id="__builtin__.[]byte" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="129.5" y="63.9531"/><ellipse cx="144.5" cy="79.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M147.4688,85.5938 Q146.8906,85.8906 146.25,86.0313 Q145.6094,86.1875 144.9063,86.1875 Q142.4063,86.1875 141.0781,84.5469 Q139.7656,82.8906 139.7656,79.7656 Q139.7656,76.6406 141.0781,74.9844 Q142.4063,73.3281 144.9063,73.3281 Q145.6094,73.3281 146.25,73.4844 Q146.9063,73.6406 147.4688,73.9375 L147.4688,76.6563 Q146.8438,76.0781 146.25,75.8125 Q145.6563,75.5313 145.0313,75.5313 Q143.6875,75.5313 143,76.6094 Q142.3125,77.6719 142.3125,79.7656 Q142.3125,81.8594 143,82.9375 Q143.6875,84 145.0313,84 Q145.6563,84 146.25,83.7344 Q146.8438,83.4531 147.4688,82.875 L147.4688,85.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="37" x="158.5" y="84.1074">[]byte</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="130.5" x2="197.5" y1="95.9531" y2="95.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="130.5" x2="197.5" y1="103.9531" y2="103.9531"/><!--MD5=[f4e606473052357ce13c8337ac632a40]
class __builtin__.uint64--><rect fill="#FEFECE" height="48" id="__builtin__.uint64" rx="5" ry="5" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="22" y="63.9531"/><ellipse cx="37" cy="79.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M39.9688,85.5938 Q39.3906,85.8906 38.75,86.0313 Q38.1094,86.1875 37.4063,86.1875 Q34.9063,86.1875 33.5781,84.5469 Q32.2656,82.8906 32.2656,79.7656 Q32.2656,76.6406 33.5781,74.9844 Q34.9063,73.3281 37.4063,73.3281 Q38.1094,73.3281 38.75,73.4844 Q39.4063,73.6406 39.9688,73.9375 L39.9688,76.6563 Q39.3438,76.0781 38.75,75.8125 Q38.1563,75.5313 37.5313,75.5313 Q36.1875,75.5313 35.5,76.6094 Q34.8125,77.6719 34.8125,79.7656 Q34.8125,81.8594 35.5,82.9375 Q36.1875,84 37.5313,84 Q38.1563,84 38.75,83.7344 Q39.3438,83.4531 39.9688,82.875 L39.9688,85.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="51" y="84.1074">uint64</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="93" y1="95.9531" y2="95.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="93" y1="103.9531" y2="103.9531"/><!--MD5=[e9622ecf3f69c5e6c6b54ef20cb4abb0]
reverse link blockrecord.Record to blockrecord.record--><path d="M495,304.2127 C495,333.0932 495,368.625 495,394.8763 " fill="none" id="blockrecord.Record&lt;-blockrecord.record" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="488.0001,304.1384,495,284.1383,502.0001,304.1383,488.0001,304.1384" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="411.9938" y="383.7726">implements</text><!--MD5=[1888dafaaa211a4d2a00e631848cad69]
reverse link blockrecord.Header to blockdigest.Digest--><path d="M1178.4825,344.7933 C1189.8569,356.8649 1201.2701,369.1452 1212,380.9531 C1219.8644,389.6076 1228.2986,399.2828 1235.6574,407.8606 " fill="none" id="blockrecord.Header&lt;-blockdigest.Digest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1169.3826,335.1698,1170.5986,342.2777,1177.6274,343.889,1176.4114,336.7811,1169.3826,335.1698" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1145.1167" y="355.1777">uses</text><!--MD5=[e83063fecc7546d1250214a4797bdb66]
reverse link blockrecord.Header to blockrecord.NonceType--><path d="M1051.5703,347.4217 C1044.6688,364.2972 1037.8596,380.9472 1032.1333,394.9492 " fill="none" id="blockrecord.Header&lt;-blockrecord.NonceType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1056.5978,335.1284,1050.6243,339.1678,1052.0554,346.2355,1058.029,342.1961,1056.5978,335.1284" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1022.287" y="355.1326">uses</text><!--MD5=[06304f323cd9dfd44fd89f19518e1561]
reverse link blockrecord.Header to difficulty.Difficulty--><path d="M1208.5626,308.2894 C1247.8113,328.7369 1290.7026,353.6772 1327,380.9531 C1337.4083,388.7745 1347.69,398.7595 1356.1979,407.8176 " fill="none" id="blockrecord.Header&lt;-difficulty.Difficulty" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1196.7836,302.2291,1200.2889,308.5309,1207.4541,307.7191,1203.9489,301.4173,1196.7836,302.2291" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1204.5854" y="301.9368">uses</text><!--MD5=[3daac807728415fa68ab53b503479210]
reverse link blockrecord.Header to merkle.Digest--><path d="M1209.4572,284.8693 C1278.4283,306.0482 1365.0819,338.0052 1435,380.9531 C1446.9835,388.3141 1458.6448,398.5412 1468.1228,407.9059 " fill="none" id="blockrecord.Header&lt;-merkle.Digest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1196.7926,281.04,1201.3781,286.6054,1208.279,284.5131,1203.6935,278.9478,1196.7926,281.04" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1204.5949" y="279.3902">uses</text><!--MD5=[5788d238a01bac7dbdd4d38f8925d226]
reverse link __builtin__.[]byte to blockrecord.PackedBlock--><path d="M164,117.3666 C164,149.2953 164,199.6837 164,229.3589 " fill="none" id="__builtin__.[]byte&lt;-blockrecord.PackedBlock" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="159" y="107.0182"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="113.2344" y="218.3468">alias of</text><!--MD5=[047ca6e66cd12a2d816441ba35e55247]
reverse link __builtin__.[]byte to blockrecord.PackedHeader--><path d="M203.7564,88.3066 C319.6834,89.8796 655.32,98.4392 753,144.9531 C786.3208,160.82 815.0997,191.6125 834.3924,216.3524 " fill="none" id="__builtin__.[]byte&lt;-blockrecord.PackedHeader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="193.7334" y="83.241"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="780.8232" y="205.5214">alias of</text><!--MD5=[ef3c8fa524a8151a4ec4328e8cff4974]
reverse link __builtin__.uint64 to blockrecord.NonceType--><path d="M51.5266,117.1882 C41.8644,169.4769 30.7119,278.7854 91,334.9531 C151.2755,391.109 749.7359,367.4341 831,380.9531 C859.9009,385.761 890.7748,393.2404 918.8966,401.0033 " fill="none" id="__builtin__.uint64&lt;-blockrecord.NonceType" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="47.5138" y="107.0071"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="866.1704" y="395.6238">alias of</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="158" x="701" y="504.2354">Generated via www.dumels.com</text><image height="60" width="60" x="750" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAACW0lEQVR4Xu2aO1LDMBRFH3/YAR0LoYWKkm9BwV5YDXRQBKhImIFhExlaCgpq/rpRHuM8W4lsyUIWujMHHDt++DiyLJkQ5eTk5OQ4Z04x3xLRBbLXipeWiC4Q7iu+FV8eQT0QXVj4TbGiWPXAGul6UQu/i/UuWaAsHDaQqoK39SkRYchckJaRnI23Jyd8SbrXvFUMCpyOtycp/FF4nXyTLgpX5V8LY1kODZvQCWFc50PFkyd4tBU0dYTxHhsgARm53kTQ2Agj3AxnsUi61vl4WW6vImhshW2DeqjF9/DokoUd00j4uCV2qBxbYex7YsknTQrP2vd3YiwnzC6g3gOVz7qNMPfSdY4JnRb2433ldj6m0W0JP3AAB57YI13vntyE8cmhlqxfxSZ2HGerYvsh6Xq/whiF4FbgKxgluQr7Hlpm4baEJZgPJymMuvgj3GlgmV/jtymdF64iyU+4T+XmXMSUzgoPaLqYKckJrys25MpCggjzwGPfAzzwqBLG6x7pE2wKC6PGLpUHEU2ZEAZyKOYC6pmEr8iul27jmEbCRy2xTeXYCCPYV9YzgZbwSOVJgomgsRW2DfodCNeaHoaMb2HUQ+eWhWOJrTAeyC1ZsEy6SUf9EG+WMPfScjhqgntziNsQNHWEITGk8gP1pvCtKWjqCOPaxLL8t0kT+Pl19MK+gmuXm3/Q/FthXE93pJ+KVPFKCQn3SE8epoETkoQwB+LTwKeflPC0QBjNOgs7pDPCGDrKrxE2AV89/JP7sE1YGAcnJ/EuoF60wjeK55aIMpCWw0Nf5OTk5HQnP5VHM9pzOexnAAAAAElFTkSuQmCC" y="506.5938"/><!--MD5=[4666a28008241251cf99efd0a7a349f9]
@startuml
skinparamlocked shadowing false
skinparamlocked roundCorner 10
title https://github.com/bitmark-inc/bitmarkd
namespace blockrecord {
    class Header << (S,Aquamarine) >> {
        + Version uint16
        + TransactionCount uint16
        + Number uint64
        + PreviousBlock blockdigest.Digest
        + MerkleRoot merkle.Digest
        + Timestamp uint64
        + Difficulty *difficulty.Difficulty
        + Nonce NonceType

        + Pack() PackedHeader

    }
    class NonceType << (S,Aquamarine) >> {
        + MarshalText() ([]byte, error)
        + UnmarshalText(b []byte) error

    }
    class PackedHeader << (S,Aquamarine) >> {
        + Unpack() (*Header, error)
        + Digest() blockdigest.Digest

    }
    interface Record  {
        + ExtractHeader( []byte,  uint64,  bool) (*Header, blockdigest.Digest, []byte, error)

    }
    class blockrecord.NonceType << (T, #FF7700) >>  {
    }
    class blockrecord.PackedBlock << (T, #FF7700) >>  {
    }
    class blockrecord.PackedHeader << (T, #FF7700) >>  {
    }
    class record << (S,Aquamarine) >> {
        - poolBockHeaderHash storage.Handle

        + ExtractHeader(block []byte, checkHeight uint64, skipDigest bool) (*Header, blockdigest.Digest, []byte, error)

    }
}

"blockrecord.Record" <|- - "implements""blockrecord.record"

"blockrecord.Header""uses" o- - "blockdigest.Digest"
"blockrecord.Header""uses" o- - "blockrecord.NonceType"
"blockrecord.Header""uses" o- - "difficulty.Difficulty"
"blockrecord.Header""uses" o- - "merkle.Digest"

"__builtin__.[]byte" #.. "alias of""blockrecord.PackedBlock"
"__builtin__.[]byte" #.. "alias of""blockrecord.PackedHeader"
"__builtin__.uint64" #.. "alias of""blockrecord.NonceType"

footer  Generated via www.dumels.com\n<img:support_files/svg_placeholders/logo.png{scale=.3}>
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1deb10u1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>